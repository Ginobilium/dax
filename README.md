# DAX

Duke ARTIQ Extensions (DAX).

DAX is a library that extends the capabilities of [ARTIQ](https://github.com/m-labs/artiq)
while maintaining a vanilla ARTIQ experience.
The goal of the project is to provide a framework for modular system organization and
to improve usability by automating common functionality.
Users can implement their own system and components using the DAX framework and
combine it with generic components and utilities provided by DAX.

Supplementary communication tools for DAX are available in the
[DAX comtools package](https://gitlab.com/duke-artiq/dax-comtools).
Optional applets for DAX are available in the
[DAX applets package](https://gitlab.com/duke-artiq/dax-applets).

More information about ARTIQ can be found in the [ARTIQ manual](https://m-labs.hk/artiq/manual/).

**DAX.sim**

The DAX.sim sub-module is a *functional simulator* for ARTIQ hardware that allows
users to run experiment code without the need of a physical core device.
DAX.sim can help users to test, debug, and verify the functionality of their code.
DAX.sim does not depend on other components of DAX and can be used by any ARTIQ project.

**DAX.scan**

The DAX.scan sub-module contains *lightweight scanning tools* that can be used for n-dimensional
scanning type experiments. The scanning tool provides an experiment template for yielding a
single point of data and automates the process of scanning over one or multiple parameters.
DAX.scan is not dependent on other components of DAX and can be used by any ARTIQ project.

**DAX.scheduler**

The DAX.scheduler sub-module contains a toolkit for *automatic scheduling of experiments*.
The scheduling toolkit includes classes to define jobs that can submit experiments.
The provided scheduler takes a job set and schedules the jobs accordingly based on their
interval, dependencies, and the chosen scheduling policy.
DAX.scheduler is not dependent on other components of DAX and can be used by any ARTIQ project.

## Resources

- [DAX documentation (autogenerated content only)](https://duke-artiq.gitlab.io/dax/)
- [DAX wiki](https://gitlab.com/duke-artiq/dax/-/wikis/home)

## Usage

Users can import DAX and the ARTIQ experiment environment at once using the following import statement:

```python
from dax.experiment import *
```

Users that would like to use DAX.sim can do so by annotating their device DB in the following way:

```python
from dax.sim import enable_dax_sim

device_db = enable_dax_sim(enable=True, ddb={
    # Your regular device db...
})
```

The scanning tools in DAX.scan can be imported using the following import statement:

```python
from dax.scan import *
```

The scheduling tools in DAX.scheduler can be imported using the following import statement:

```python
from dax.scheduler import *
```

## Testing

To run the DAX unit tests, execute one of the following commands in the root directory of DAX:

```shell
pytest  # Requires pytest to be installed
python3 -m unittest  # No additional libraries required
```

## Main contributors

- Leon Riesebos (Duke University)
- Brad Bondurant (Duke University)
